SQL> desc test
ERROR:
ORA-04043: object test does not exist 


SQL> create table test(c1 number,c2 number);

Table created.

SQL> insert into test values (1,1);

1 row created.

SQL> insert into test values (2,2);

1 row created.

SQL> commit;

Commit complete.

SQL> clear screen
SQL> desc tetst
ERROR:
ORA-04043: object tetst does not exist 


SQL> select * from test;

        C1         C2                                                           
---------- ----------                                                           
         1          1                                                           
         2          2                                                           

SQL> clear screen
SQL> insert into test values (3,3);

1 row created.

SQL> select * from test;

        C1         C2                                                           
---------- ----------                                                           
         1          1                                                           
         2          2                                                           
         3          3                                                           

SQL> update test set c1=11 where c2=1;

1 row updated.

SQL> select * from test;

        C1         C2                                                           
---------- ----------                                                           
        11          1                                                           
         2          2                                                           
         3          3                                                           

SQL> commit;

Commit complete.

SQL> 
SQL> clear screen
SQL> insert
  2  
SQL> update
  2  d
  3  delete
  4  
SQL> 
SQL> clear screen
SQL> desc test
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 C1                                                 NUMBER
 C2                                                 NUMBER

SQL> alter table test add(c1 number);
alter table test add(c1 number)
                     *
ERROR at line 1:
ORA-01430: column being added already exists in table 


SQL> alter table test add(c3 number);

Table altered.

SQL> desc test
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 C1                                                 NUMBER
 C2                                                 NUMBER
 C3                                                 NUMBER

SQL> clear screen
SQL> select * from test;

        C1         C2         C3         C9         C4                          
---------- ---------- ---------- ---------- ----------                          
         4          4                                                           
       120          1                                                           
        22          2                                                           

SQL> alter table test add (c5 number not null);
alter table test add (c5 number not null)
            *
ERROR at line 1:
ORA-01758: table must be empty to add mandatory (NOT NULL) column 


SQL> alter table test add (c5 number default 10 not null);

Table altered.

SQL> select * from test;

        C1         C2         C3         C9         C4         C5               
---------- ---------- ---------- ---------- ---------- ----------               
         4          4                                          10               
       120          1                                          10               
        22          2                                          10               

SQL> clear screen
SQL> alter table test drop column c9;

Table altered.

SQL> alter table test drop (c5);

Table altered.

SQL> desc test
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 C1                                                 NUMBER
 C2                                                 NUMBER
 C3                                                 NUMBER
 C4                                                 NUMBER
 C88888888                                 NOT NULL NUMBER

SQL> alter table test rename column C88888888  to c5;

Table altered.

SQL> clear screen
SQL> l
  1* alter table test rename column C88888888  to c5
SQL> desc test
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 C1                                                 NUMBER
 C2                                                 NUMBER
 C3                                                 NUMBER
 C4                                                 NUMBER
 C5                                        NOT NULL NUMBER

SQL> clear screen
SQL> desc test
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 C1                                                 NUMBER
 C2                                                 NUMBER
 C4                                                 NUMBER
 C5                                        NOT NULL NUMBER

SQL> select * from test;

        C1         C2         C4         C5                                     
---------- ---------- ---------- ----------                                     
         4          4                    99                                     
       120          1                    99                                     
        22          2                    99                                     

SQL> alter table test modify (c4 varchar2(10));

Table altered.

SQL> desc test
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 C1                                                 NUMBER
 C2                                                 NUMBER
 C4                                                 VARCHAR2(10)
 C5                                        NOT NULL NUMBER

SQL> clear screen
SQL> insert into test(c4) values ('abc');

1 row created.

SQL> select * from test;

        C1         C2 C4                 C5                                     
---------- ---------- ---------- ----------                                     
         4          4                    99                                     
       120          1                    99                                     
        22          2                    99                                     
                      abc                99                                     

SQL> alter table test modify (c4 char(5));

Table altered.

SQL> alter table test modify (c4 varchar2(3));
alter table test modify (c4 varchar2(3))
                         *
ERROR at line 1:
ORA-01441: cannot decrease column length because some value is too big 


SQL> clear screen
SQL> desc test
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 C1                                                 NUMBER
 C2                                                 NUMBER
 C4                                                 CHAR(5)
 C5                                        NOT NULL NUMBER

SQL> alter table test modify (c5 null);

Table altered.

SQL> alter table test modify (c5 not null);

Table altered.

SQL> clear screen
SQL> select * from test;

        C1         C2 C4            C5                                          
---------- ---------- ----- ----------                                          
         4          4               99                                          
       120          1               99                                          
        22          2               99                                          
                      abc           99                                          

SQL> alter table test add primary key(c1);
alter table test add primary key(c1)
                                 *
ERROR at line 1:
ORA-01449: column contains NULL values; cannot alter to NOT NULL 


SQL> delete from test
  2  where c1 is null;

1 row deleted.

SQL> alter table test add primary key(c1);

Table altered.

SQL> clear screen
SQL> alter table test drop primary key;

Table altered.

SQL> desc parent
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 C1                                        NOT NULL NUMBER

SQL> desc child;
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 C1                                        NOT NULL NUMBER
 C2                                                 NUMBER

SQL> alter table parent drop primary key;
alter table parent drop primary key
*
ERROR at line 1:
ORA-02273: this unique/primary key is referenced by some foreign keys 


SQL> clear screen
SQL> alter table parent drop primary key cascade;

Table altered.

SQL> desc test
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 C1                                                 NUMBER
 C2                                                 NUMBER
 C4                                                 CHAR(5)
 C5                                        NOT NULL NUMBER

SQL> alter table test add primary key(c1);

Table altered.

SQL> insert into test values (1);
insert into test values (1)
            *
ERROR at line 1:
ORA-00947: not enough values 


SQL> clear screen
SQL> desc test
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 C1                                        NOT NULL NUMBER
 C2                                                 NUMBER
 C4                                                 CHAR(5)
 C5                                        NOT NULL NUMBER

SQL> insert into test(c1,c5) values (1,1);

1 row created.

SQL> /
insert into test(c1,c5) values (1,1)
*
ERROR at line 1:
ORA-00001: unique constraint (SD0706.SYS_C0019641) violated 


SQL> alter table test drop constraints SYS_C0019641;

Table altered.

SQL> clear screen
SQL> desc user_constraints
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 OWNER                                     NOT NULL VARCHAR2(30)
 CONSTRAINT_NAME                           NOT NULL VARCHAR2(30)
 CONSTRAINT_TYPE                                    VARCHAR2(1)
 TABLE_NAME                                NOT NULL VARCHAR2(30)
 SEARCH_CONDITION                                   LONG
 R_OWNER                                            VARCHAR2(30)
 R_CONSTRAINT_NAME                                  VARCHAR2(30)
 DELETE_RULE                                        VARCHAR2(9)
 STATUS                                             VARCHAR2(8)
 DEFERRABLE                                         VARCHAR2(14)
 DEFERRED                                           VARCHAR2(9)
 VALIDATED                                          VARCHAR2(13)
 GENERATED                                          VARCHAR2(14)
 BAD                                                VARCHAR2(3)
 RELY                                               VARCHAR2(4)
 LAST_CHANGE                                        DATE
 INDEX_OWNER                                        VARCHAR2(30)
 INDEX_NAME                                         VARCHAR2(30)
 INVALID                                            VARCHAR2(7)
 VIEW_RELATED                                       VARCHAR2(14)

SQL> 
SQL> clear screen
SQL> select constraint_name,constraint_type
  2  from user_constraints
  3  where table_name = 'S_EMP';

CONSTRAINT_NAME                C                                                
------------------------------ -                                                
S_EMP_ID_NN                    C                                                
S_EMP_LAST_NAME_NN             C                                                
S_EMP_COMMISSION_PCT_CK        C                                                
S_EMP_ID_PK                    P                                                
S_EMP_USERID_UK                U                                                
S_EMP_MANAGER_ID_FK            R                                                
S_EMP_DEPT_ID_FK               R                                                
S_EMP_TITLE_FK                 R                                                

8 rows selected.

SQL> edit
Wrote file afiedt.buf

  1  select constraint_name,constraint_type,search_condition
  2  from user_constraints
  3* where table_name = 'S_EMP'
SQL> /

CONSTRAINT_NAME                C                                                
------------------------------ -                                                
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
S_EMP_ID_NN                    C                                                
"ID" IS NOT NULL                                                                
                                                                                
S_EMP_LAST_NAME_NN             C                                                
"LAST_NAME" IS NOT NULL                                                         
                                                                                
S_EMP_COMMISSION_PCT_CK        C                                                
commission_pct IN (10, 12.5, 15, 17.5, 20)                                      
                                                                                

CONSTRAINT_NAME                C                                                
------------------------------ -                                                
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
S_EMP_ID_PK                    P                                                
                                                                                
                                                                                
S_EMP_USERID_UK                U                                                
                                                                                
                                                                                
S_EMP_MANAGER_ID_FK            R                                                
                                                                                
                                                                                

CONSTRAINT_NAME                C                                                
------------------------------ -                                                
SEARCH_CONDITION                                                                
--------------------------------------------------------------------------------
S_EMP_DEPT_ID_FK               R                                                
                                                                                
                                                                                
S_EMP_TITLE_FK                 R                                                
                                                                                
                                                                                

8 rows selected.

SQL> clear screen
SQL> desc user_cons_columns
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 OWNER                                     NOT NULL VARCHAR2(30)
 CONSTRAINT_NAME                           NOT NULL VARCHAR2(30)
 TABLE_NAME                                NOT NULL VARCHAR2(30)
 COLUMN_NAME                                        VARCHAR2(4000)
 POSITION                                           NUMBER

SQL> clear screen
SQL> select constraint_name,column_name,position
  2  from user_cons_columns
  3  where table_name = 'S_EMP';

CONSTRAINT_NAME                                                                 
------------------------------                                                  
COLUMN_NAME                                                                     
--------------------------------------------------------------------------------
  POSITION                                                                      
----------                                                                      
S_EMP_ID_NN                                                                     
ID                                                                              
                                                                                
                                                                                
S_EMP_LAST_NAME_NN                                                              
LAST_NAME                                                                       
                                                                                

CONSTRAINT_NAME                                                                 
------------------------------                                                  
COLUMN_NAME                                                                     
--------------------------------------------------------------------------------
  POSITION                                                                      
----------                                                                      
                                                                                
S_EMP_COMMISSION_PCT_CK                                                         
COMMISSION_PCT                                                                  
                                                                                
                                                                                
S_EMP_ID_PK                                                                     
ID                                                                              

CONSTRAINT_NAME                                                                 
------------------------------                                                  
COLUMN_NAME                                                                     
--------------------------------------------------------------------------------
  POSITION                                                                      
----------                                                                      
         1                                                                      
                                                                                
S_EMP_USERID_UK                                                                 
USERID                                                                          
         1                                                                      
                                                                                
S_EMP_MANAGER_ID_FK                                                             

CONSTRAINT_NAME                                                                 
------------------------------                                                  
COLUMN_NAME                                                                     
--------------------------------------------------------------------------------
  POSITION                                                                      
----------                                                                      
MANAGER_ID                                                                      
         1                                                                      
                                                                                
S_EMP_DEPT_ID_FK                                                                
DEPT_ID                                                                         
         1                                                                      
                                                                                

CONSTRAINT_NAME                                                                 
------------------------------                                                  
COLUMN_NAME                                                                     
--------------------------------------------------------------------------------
  POSITION                                                                      
----------                                                                      
S_EMP_TITLE_FK                                                                  
TITLE                                                                           
         1                                                                      
                                                                                

8 rows selected.

SQL> clear screen
SQL> set head off
SQL> /

S_EMP_ID_NN                                                                     
ID                                                                              
                                                                                
                                                                                
S_EMP_LAST_NAME_NN                                                              
LAST_NAME                                                                       
                                                                                
                                                                                
S_EMP_COMMISSION_PCT_CK                                                         
COMMISSION_PCT                                                                  
                                                                                
                                                                                
S_EMP_ID_PK                                                                     

ID                                                                              
         1                                                                      
                                                                                
S_EMP_USERID_UK                                                                 
USERID                                                                          
         1                                                                      
                                                                                
S_EMP_MANAGER_ID_FK                                                             
MANAGER_ID                                                                      
         1                                                                      
                                                                                
S_EMP_DEPT_ID_FK                                                                
DEPT_ID                                                                         

         1                                                                      
                                                                                
S_EMP_TITLE_FK                                                                  
TITLE                                                                           
         1                                                                      
                                                                                

8 rows selected.

SQL> clear screen
SQL> drop table test;

Table dropped.

SQL> create table test(c1 number,c2 number,
  2  primary key(c1,c2));

Table created.

SQL> select constraint_name,column_name,positioin
  2  from user_cons_columns
  3  where table_name = 'TEST';
select constraint_name,column_name,positioin
                                   *
ERROR at line 1:
ORA-00904: "POSITIOIN": invalid identifier 


SQL> edit
Wrote file afiedt.buf

  1  select constraint_name,column_name,position
  2  from user_cons_columns
  3* where table_name = 'TEST'
SQL> /

SYS_C0019643                                                                    
C1                                                                              
         1                                                                      
                                                                                
SYS_C0019643                                                                    
C2                                                                              
         2                                                                      
                                                                                

SQL> clear screen
SQL> desc user_constraints
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 OWNER                                     NOT NULL VARCHAR2(30)
 CONSTRAINT_NAME                           NOT NULL VARCHAR2(30)
 CONSTRAINT_TYPE                                    VARCHAR2(1)
 TABLE_NAME                                NOT NULL VARCHAR2(30)
 SEARCH_CONDITION                                   LONG
 R_OWNER                                            VARCHAR2(30)
 R_CONSTRAINT_NAME                                  VARCHAR2(30)
 DELETE_RULE                                        VARCHAR2(9)
 STATUS                                             VARCHAR2(8)
 DEFERRABLE                                         VARCHAR2(14)
 DEFERRED                                           VARCHAR2(9)
 VALIDATED                                          VARCHAR2(13)
 GENERATED                                          VARCHAR2(14)
 BAD                                                VARCHAR2(3)
 RELY                                               VARCHAR2(4)
 LAST_CHANGE                                        DATE
 INDEX_OWNER                                        VARCHAR2(30)
 INDEX_NAME                                         VARCHAR2(30)
 INVALID                                            VARCHAR2(7)
 VIEW_RELATED                                       VARCHAR2(14)

SQL> clear screen
SQL> select constraint_name,r_constraint_name
  2  from user_constraints
  3  where constraint_type = 'R';

SYS_C0019370                   SYS_C0019271                                     
SYS_C0019371                   SYS_C0019285                                     
SYS_C0019354                   SYS_C0019291                                     
SYS_C0019351                   SYS_C0019279                                     
SYS_C0019355                   SYS_C0019302                                     
SYS_C0019352                   SYS_C0019301                                     
SYS_C0019342                   SYS_C0019314                                     
SYS_C0019334                   SYS_C0019256                                     
SYS_C0019321                   SYS_C0019255                                     
SYS_C0019322                   SYS_C0019269                                     
SYS_C0019331                   SYS_C0019314                                     
SYS_C0019292                   SYS_C0019255                                     
SYS_C0019293                   SYS_C0019269                                     

SYS_C0019335                   SYS_C0019264                                     
SYS_C0019249                   SYS_C0019247                                     
SYS_C0019200                   SYS_C0019181                                     
SYS_C0019625                   SYS_C0019622                                     
SYS_C0019624                   SYS_C0019622                                     
SYS_C0019623                   SYS_C0019622                                     
SYS_C0019593                   SYS_C0019584                                     
YLZDEPT_REGION_ID_FK           S_REGION_ID_PK                                   
S_DD_REGION_ID_FK              S_REGION_ID_PK                                   
SYS_C0019524                   SYS_C0019521                                     
SYS_C0019525                   SYS_C0019522                                     
SYS_C0019562                   SYS_C0019558                                     
S_INVENTORY_WAREHOUSE_ID_FK    S_WAREHOUSE_ID_PK                                

S_INVENTORY_PRODUCT_ID_FK      S_PRODUCT_ID_PK                                  
S_WAREHOUSE_REGION_ID_FK       S_REGION_ID_PK                                   
S_WAREHOUSE_MANAGER_ID_FK      S_EMP_ID_PK                                      
S_ITEM_PRODUCT_ID_FK           S_PRODUCT_ID_PK                                  
S_ITEM_ORD_ID_FK               S_ORD_ID_PK                                      
S_PRODUCT_LONGTEXT_ID_FK       S_LONGTEXT_ID_PK                                 
S_PRODUCT_IMAGE_ID_FK          S_IMAGE_ID_PK                                    
S_ORD_SALES_REP_ID_FK          S_EMP_ID_PK                                      
S_ORD_CUSTOMER_ID_FK           S_CUSTOMER_ID_PK                                 
S_CUSTOMER_REGION_ID_FK        S_REGION_ID_PK                                   
S_SALES_REP_ID_FK              S_EMP_ID_PK                                      
S_EMP_TITLE_FK                 S_TITLE_TITLE_PK                                 
S_EMP_DEPT_ID_FK               S_DEPT_ID_PK                                     

S_EMP_MANAGER_ID_FK            S_EMP_ID_PK                                      
S_DEPT_REGION_ID_FK            S_REGION_ID_PK                                   

41 rows selected.

SQL> edit
Wrote file afiedt.buf

  1  select constraint_name,r_constraint_name
  2  from user_constraints
  3  where constraint_type = 'R'
  4* and table_name = 'S_EMP'
SQL> /

S_EMP_MANAGER_ID_FK            S_EMP_ID_PK                                      
S_EMP_DEPT_ID_FK               S_DEPT_ID_PK                                     
S_EMP_TITLE_FK                 S_TITLE_TITLE_PK                                 

SQL> set head off
SQL> set head on
SQL> clear screen
SQL> l
  1  select constraint_name,r_constraint_name
  2  from user_constraints
  3  where constraint_type = 'R'
  4* and table_name = 'S_EMP'
SQL> /

CONSTRAINT_NAME                R_CONSTRAINT_NAME                                
------------------------------ ------------------------------                   
S_EMP_MANAGER_ID_FK            S_EMP_ID_PK                                      
S_EMP_DEPT_ID_FK               S_DEPT_ID_PK                                     
S_EMP_TITLE_FK                 S_TITLE_TITLE_PK                                 

SQL> select constraint_type from user_constraints
  2  where constraint_name = 'S_EMP_ID_PK';

C                                                                               
-                                                                               
P                                                                               

SQL> select column_name from user_cons_columns
  2  where constraint_name = 'S_EMP_ID_PK';

COLUMN_NAME                                                                     
--------------------------------------------------------------------------------
ID                                                                              

SQL> edit
Wrote file afiedt.buf

  1  select column_name,table_name from user_cons_columns
  2* where constraint_name = 'S_EMP_ID_PK'
SQL> /

COLUMN_NAME                                                                     
--------------------------------------------------------------------------------
TABLE_NAME                                                                      
------------------------------                                                  
ID                                                                              
S_EMP                                                                           
                                                                                

SQL> 
SQL> 
SQL> 
SQL> clear screen
SQL> desc test
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 C1                                        NOT NULL NUMBER
 C2                                        NOT NULL NUMBER

SQL> drop table test;

Table dropped.

SQL> create table test(c1 number primary key);

Table created.

SQL> alter table test disable primary key;

Table altered.

SQL> insert into test values 91);
insert into test values 91)
                          *
ERROR at line 1:
ORA-00933: SQL command not properly ended 


SQL> insert into test values (1);

1 row created.

SQL> /

1 row created.

SQL> clear screen
SQL> alter table test enable primary key;
alter table test enable primary key
*
ERROR at line 1:
ORA-02437: cannot validate (SD0706.SYS_C0019645) - primary key violated 


SQL> select * from test;

        C1                                                                      
----------                                                                      
         1                                                                      
         1                                                                      

SQL> select rowid,c1 from test;

ROWID                      C1                                                   
------------------ ----------                                                   
AAAUCoAAEAAABN+AAA          1                                                   
AAAUCoAAEAAABN+AAB          1                                                   

SQL> clear screen
SQL> l
  1* select rowid,c1 from test
SQL> /

ROWID                      C1                                                   
------------------ ----------                                                   
AAAUCoAAEAAABN+AAA          1                                                   
AAAUCoAAEAAABN+AAB          1                                                   

SQL> delete from test where rowid = 'AAAUCoAAEAAABN+AAB';

1 row deleted.

SQL> select * from test;

        C1                                                                      
----------                                                                      
         1                                                                      

SQL> alter table test enable primary key;

Table altered.

SQL> exit
